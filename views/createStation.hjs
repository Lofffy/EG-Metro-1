<!DOCTYPE html>
<html>
  <head>
    <title>EG-Metro</title>
    <link rel='stylesheet' href='/styles/bootstrap.min.css' />
    <link rel='stylesheet' href='/styles/style.css' />
    <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
  </head>
  <body>
    <div>
      <div>
        <nav class="navbar navbar-inverse" style="padding-left:130px;">
          <ul class="nav navbar-nav">
            <li><a href="/dashboard">Home</a></li>
            <li class="active"><a href="/manage/routes">Routes</a></li>
            <li><a href="/users">Users</a></li>
            <li><a href="/users/add">Add Users</a></li>
            <li><a href="/">Logout</a></li>       
          </ul>
        </nav>
      </div>
      <br/>
     
     

   {{#isAdmin}}
      <div style="position:center; ">
        <button id="btnAddStation" class="btn btn-primary" style="position:center; ">Add station</button>
        <br />
        <div id="addStationForm" style="display: none;">
          <label for="stationName">Station Name:</label>
          <input type="text" id="stationName" name="stationName" class="form-control" />
          <br />
          <label for="stationType">Station Type:</label>
          <select id="stationType" name="stationType" class="form-control">
          <option value="0">Normal</option>
          <option value="1">Transfer</option>
          </select>
          <br />
          <label for="stationStatus">Station Status:</label>
          <input type="text" id="stationStatus" name="stationStatus" class="form-control" />
          <br />
          <button id="btnSaveStation" class="btn btn-primary">Save</button>
          <button id="btnCancel" class="btn btn-default">Cancel</button>
        </div>
      </div>
      {{/isAdmin}}
    <script>
    
        $(document).ready(function() {
        $("#btnAddStation").click(function() {
          $("#addStationForm").toggle();
        });

        $("#btnCancel").click(function() {
          $("#addStationForm").toggle();
        });

        $("#btnSaveStation").click(function() {
          const stationName = $("#stationName").val();
          const stationType = $("#stationType").val();
          const stationStatus = $("#stationStatus").val();

          // Perform an AJAX request to save the new station data
          $.ajax({
            url: "/api/v1/station",
            type: "POST",
            data: {
              stationName: stationName,
              stationType: stationType,
              stationStatus: stationStatus
            },
            success: function(response) {
              // Handle success response
              location.reload()
              console.log(response);
            },
            error: function(error) {
              // Handle error response
              console.log(error);
            }
          });
        });
      });

    </script>
  </body>
</html>